C51 COMPILER V9.01   MAIN                                                                  05/11/2016 18:25:24 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\LINKING\Output\main.obj
COMPILER INVOKED BY: C:\Program Files (x86)\KEIL_v4\C51\BIN\C51.EXE USR\main.c BROWSE INCDIR(.\DRI;.\SYS;.\USR) DEBUG OB
                    -JECTEXTEND PRINT(.\LINKING\Listings\main.lst) OBJECT(.\LINKING\Output\main.obj)

line level    source

   1          #include<reg52.h>
   2          #include<lcd.h>
   3          #include<hc165.h>
   4          #include<display.h>
   5          #include<calc.h>
   6          #include<I2C.h>
   7          #include<zlg7290.h>
   8          #include<keyscan_basic.h>
   9          int tempKeytransfer_1 = 0;
  10          int tempNumtransfer_1 = 0;
  11          int tempKeytransfer_2 = 0;
  12          int tempNumtransfer_2 = 0;
  13          int resultTransfer;
  14          int result = 0;
  15          unsigned char step = 0;
  16          int temp_useless;
  17          int temp;
  18          extern int num_temp;
  19          void main(){
  20   1              hc165_init();
  21   1              I2C_Init();
  22   1              LcdInit();
  23   1              while(1){
  24   2                      Read_ZLG7290Key();
  25   2                      delayMS(300);
  26   2                      if(key_press == 1 && step == 0) {
  27   3                              key_press = 0;
  28   3                              tempKeytransfer_1 = keyscan_transfer(key_code);
  29   3                              if(key_code != 0x04) {
  30   4                                      tempNumtransfer_1 = number_transfer(tempKeytransfer_1);
  31   4                                      disp_line(0);
  32   4                                      temp = lcd_numdisplay(tempNumtransfer_1);
  33   4                              }
  34   3                      }
  35   2                      if(key_press == 1 && step == 1) {
  36   3                              key_press = 0;
  37   3                              lcd_flagdisplay(keyscan_transfer(key_code));
  38   3                              num_temp = 0;
  39   3                      }
  40   2                      if(key_press == 1 && step == 2) {
  41   3                              key_press = 0;
  42   3                              tempKeytransfer_2 = keyscan_transfer(key_code);
  43   3                              if(key_code != 0x0F){
  44   4                                      tempNumtransfer_2 = number_transfer(tempKeytransfer_2);
  45   4                                      LcdWrCmd(0x80+temp+1);
  46   4                                      temp_useless = lcd_numdisplay(tempNumtransfer_2);
  47   4                              }
  48   3                      }
  49   2                      if(step == 3){  
  50   3                              result = number_calculate(tempNumtransfer_1,tempNumtransfer_2,0x08);
  51   3                              disp_line(1);
  52   3                              temp_useless = lcd_numdisplay(result);  
  53   3                      }
  54   2              }
C51 COMPILER V9.01   MAIN                                                                  05/11/2016 18:25:24 PAGE 2   

  55   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    195    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     17    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
