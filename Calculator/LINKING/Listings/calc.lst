C51 COMPILER V9.01   CALC                                                                  05/09/2016 10:38:11 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE CALC
OBJECT MODULE PLACED IN .\LINKING\Output\calc.obj
COMPILER INVOKED BY: C:\Program Files (x86)\KEIL_v4\C51\BIN\C51.EXE USR\calc.c BROWSE INCDIR(.\DRI;.\SYS;.\USR) DEBUG OB
                    -JECTEXTEND PRINT(.\LINKING\Listings\calc.lst) OBJECT(.\LINKING\Output\calc.obj)

line level    source

   1          #include<reg52.h>
   2          #include<keyscan_basic.h>
   3          #include<hc165.h>
   4          
   5          unsigned char step = 0;
   6          unsigned char LongToString(unsigned char *str, signed int dat){
   7   1          signed char i = 0;
   8   1          unsigned char len = 0;
   9   1          unsigned char buf[12];
  10   1         
  11   1          if (dat < 0){
  12   2              dat = -dat;
  13   2              *str++ = '-';
  14   2                      len++;
  15   2          }
  16   1         
  17   1          do {
  18   2              buf[i++] = dat % 10;
  19   2              dat /= 10;
  20   2          } while (dat > 0);
  21   1          len += i;
  22   1          while (i-- > 0){
  23   2              *str++ = buf[i] + '0';
  24   2          }
  25   1          *str = '\0';
  26   1              return len;
  27   1      }
  28          
  29          int num_transfer(unsigned char key) {
  30   1              int num_transfer = 0;
  31   1              num_transfer = num_transfer*10 + keyscan_tranfer(key);
  32   1              return num_transfer;
  33   1      }
  34          
  35          int num_calculate(unsigned char key) {
  36   1              int data_1,data_2,result;
  37   1              if(step == 0)
  38   1                      data_1 = num_transfer(key);
  39   1              else
  40   1                      data_2 = num_transfer(key);
  41   1              switch(key) {
  42   2                      case 0x80: result = data_1 + data_2; step = 0; return result;
  43   2              }       
  44   1      } 
  45          
*** WARNING C291 IN LINE 44 OF USR\CALC.C: not every exit path returns a value


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    242    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1      26
C51 COMPILER V9.01   CALC                                                                  05/09/2016 10:38:11 PAGE 2   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
